{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "fuel": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/fuel"
      }
    },
    "logistic": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/logistic"
      }
    },
    "storageRental": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/storageRental"
      }
    },
    "matches": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/match"
      }
    }
  },
  "$defs": {
    "APIResponse": {
      "type": "object",
      "properties": {
        "fuel": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/fuel"
          }
        },
        "logistic": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/logistic"
          }
        },
        "storageRental": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/storageRental"
          }
        },
        "matches": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/match"
          }
        }
      },
      "required": ["matches"],
      "additionalProperties": false
    },
    "fuel": {
      "type": "object",
      "properties": {
        "dispenser": {
          "$ref": "#/$defs/dispenser"
        },
        "producer": {
          "$ref": "#/$defs/producer"
        },
        "service": {
          "$ref": "#/$defs/service"
        },
        "quote": {
          "$ref": "#/$defs/quote"
        },
        "company": {
          "$ref": "#/$defs/company"
        },
        "instance": {
          "$ref": "#/$defs/graphInstance"
        }
      },
      "additionalProperties": false
    },
    "logistic": {
      "type": "object",
      "properties": {
        "service": {
          "$ref": "#/$defs/service"
        },
        "vehicle": {
          "$ref": "#/$defs/vehicle"
        },
        "quote": {
          "$ref": "#/$defs/quote"
        },
        "company": {
          "$ref": "#/$defs/company"
        },
        "instance": {
          "$ref": "#/$defs/graphInstance"
        }
      },
      "additionalProperties": false
    },
    "storageRental": {
      "type": "object",
      "properties": {
        "service": {
          "$ref": "#/$defs/service"
        },
        "storage": {
          "$ref": "#/$defs/storage"
        },
        "quote": {
          "$ref": "#/$defs/quote"
        },
        "company": {
          "$ref": "#/$defs/company"
        },
        "instance": {
          "$ref": "#/$defs/graphInstance"
        }
      },
      "additionalProperties": false
    },
    "storage": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "availableQuantity": {
          "type": "number"
        },
        "capacity": {
          "type": "number"
        }
      },
      "additionalProperties": false
    },
    "vehicle": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "availableQuantity": {
          "type": "number"
        },
        "transportDistance": {
          "type": "number"
        }
      },
      "additionalProperties": false
    },
    "dispenser": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "lat": {
          "type": "number"
        },
        "long": {
          "type": "number"
        }
      },
      "additionalProperties": false
    },
    "producer": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "weeklyProductionCapacity": {
          "type": "number"
        },
        "productionCO2e": {
          "type": "number"
        },
        "source": {
          "$ref": "#/$defs/productionSource"
        },
        "storedIn": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      },
      "required": ["id", "name", "weeklyProductionCapacity"],
      "additionalProperties": false
    },
    "service": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "transportCO2e": {
          "type": "number"
        },
        "exclusiveDownstreamCompanies": {
          "type": "string"
        },
        "exclusiveUpstreamCompanies": {
          "type": "string"
        }
      },
      "required": ["id", "name"],
      "additionalProperties": false
    },
    "quote": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "monetaryValuePerUnit": {
          "type": "number"
        },
        "currency": {
          "type": "string"
        },
        "unit": {
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "company": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "match": {
      "type": "object",
      "properties": {
        "fuel": {
          "$ref": "#/$defs/instance"
        },
        "logistic": {
          "$ref": "#/$defs/instance"
        },
        "storage": {
          "$ref": "#/$defs/instance"
        },
        "cost": {
          "$ref": "#/$defs/cost"
        },
        "CO2e": {
          "$ref": "#/$defs/CO2e"
        },
        "production": {
          "$ref": "#/$defs/production"
        },
        "transportDistance": {
          "type": "number"
        }
      },
      "required": ["fuel", "logistic", "storage", "cost", "production", "transportDistance"],
      "additionalProperties": false
    },
    "cost": {
      "type": "object",
      "properties": {
        "total": {
          "type": "number"
        },
        "breakdown": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/breakdown"
          }
        }
      },
      "required": ["total", "breakdown"],
      "additionalProperties": false
    },
    "CO2e": {
      "type": "object",
      "properties": {
        "total": {
          "type": "number"
        },
        "breakdown": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/breakdown"
          }
        }
      },
      "required": ["total", "breakdown"],
      "additionalProperties": false
    },
    "instance": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "exclusiveDownstream": {
          "type": "boolean"
        },
        "exclusiveUpstream": {
          "type": "boolean"
        },
        "type": {
          "type": "string"
        },
        "instance": {
          "$ref": "#/$defs/graphInstance"
        }
      },
      "required": ["id", "name", "exclusiveDownstream", "exclusiveUpstream", "instance"],
      "additionalProperties": false
    },
    "breakdown": {
      "type": "object",
      "properties": {
        "serviceType": {
          "type": "string",
          "enum": ["logistic", "fuel", "storageRental"]
        },
        "service": {
          "type": "string",
          "description": "The ID of the service that is attached to this breakdown"
        },
        "quantity": {
          "type": "number"
        },
        "perUnit": {
          "type": "number"
        },
        "unit": {
          "type": "string"
        },
        "value": {
          "type": "string"
        }
      },
      "required": ["serviceType", "service", "quantity", "perUnit", "unit", "value"],
      "additionalProperties": false
    },
    "production": {
      "type": "object",
      "properties": {
        "method": {
          "$ref": "#/$defs/productionMethod"
        },
        "source": {
          "$ref": "#/$defs/productionSource"
        },
        "capacity": {
          "$ref": "#/$defs/productionCapacity"
        },
        "location": {
          "$ref": "#/$defs/location"
        }
      },
      "required": ["method", "capacity", "location"],
      "additionalProperties": false
    },
    "productionMethod": {
      "type": "string",
      "enum": ["ElectrolyticHydrogen", "SteamMethaneReformingHydrogen", "Hydrogen"]
    },
    "productionSource": {
      "type": "string",
      "enum": ["Grid", "Grid Renewable", "Nuclear", "Wind", "Solar"]
    },
    "productionCapacity": {
      "type": "object",
      "properties": {
        "weekly": {
          "type": "number"
        },
        "weeklyUsed": {
          "type": "number"
        }
      },
      "required": ["weekly", "weeklyUsed"]
    },
    "graphInstance": {
      "type": "string"
    },
    "location": {
      "type": "object",
      "properties": {
        "lat": {
          "type": "number"
        },
        "long": {
          "type": "number"
        }
      },
      "required": ["lat", "long"]
    }
  },
  "required": ["matches"]
}
