{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "location": {
      "$ref": "#/definitions/locationInput"
    },
    "fuel": {
      "$ref": "#/definitions/fuelInput"
    },
    "query": {
      "$ref": "#/definitions/queryInput"
    }
  },
  "definitions": {
    "APIInput": {
      "type": "object",
      "properties": {
        "location": {
          "$ref": "#/definitions/locationInput"
        },
        "fuel": {
          "$ref": "#/definitions/fuelInput"
        },
        "query": {
          "$ref": "#/definitions/queryInput"
        }
      },
      "required": ["location", "fuel", "query"]
    },
    "locationInput": {
      "title": "Site location",
      "type": "object",
      "properties": {
        "lat": {
          "title": "Latitude",
          "type": "number"
        },
        "long": {
          "title": "Longitude",
          "type": "number"
        }
      },
      "required": ["lat", "long"]
    },
    "fuelInput": {
      "title": "Hydrogen",
      "type": "object",
      "properties": {
        "amount": {
          "title": "Amount",
          "type": "number",
          "description": "The total amount of hydrogen required per week in kg ",
          "minimum": 1
        }
      }
    },
    "queryInput": {
      "title": "Advanced testbed configuration",
      "type": "object",
      "properties": {
        "instance": {
          "title": "Instance(s)",
          "type": "array",
          "items": {
            "$ref": "#/definitions/instanceInput"
          },
          "uniqueItems": true,
          "minimum": 1,
          "description": "The public or private (ðŸ”’) instance(s) to use when querying"
        }
      },
      "required": ["instance"]
    },
    "instanceInput": {
      "type": "string",
      "oneOf": [{ "const": "default", "title": "Default" }],
      "default": ["default"]
    }
  },
  "required": ["location", "fuel", "query"]
}
